{% extends 'base.html' %}
{% block content %}
<h1>Transaction History</h1>
<table>
    <tr>
        <th>ID</th>
        <th>Type</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Date</th>
        <th>Description</th>
        <th>Actions</th>
    </tr>
    {% for transaction in transactions %}
    <tr>
        <td>{{ transaction[0] }}</td>
        <td>{{ transaction[1] }}</td>
        <td>{{ transaction[2] }}</td>
        <td>{{ transaction[3] }}</td>
        <td>{{ transaction[4] }}</td>
        <td>{{ transaction[5] }}</td>
        <td>
            <button class="edit" data-id="{{ transaction[0] }}">Edit</button>
            <button class="delete" data-id="{{ transaction[0] }}">Delete</button>
        </td>
    </tr>
    {% endfor %}
</table>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('button.edit').forEach(function(button) {
            button.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                window.location.href = `{{ url_for('main.edit_transaction', id='') }}${id}`;
            });
        });

        document.querySelectorAll('button.delete').forEach(function(button) {
            button.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                window.location.href = `{{ url_for('main.delete_transaction', id='') }}${id}`;
            });
        });
    });
</script>
{% endblock %}